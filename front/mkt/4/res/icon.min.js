!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.BackMstation=t()}(this,function(){"use strict";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.back-home-icon{position:fixed;right:4px;right:.25rem;top:27%;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:all 1s;transition:all 1s;cursor:pointer;z-index:9;background:rgba(0,0,0,.3);border-radius:.7rem}.back-home-icon,.back-home-icon:before{width:9.6px;width:.6rem;height:9.6px;height:.6rem;display:block}.back-home-icon:before{content:"";background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QzYzNDlBNDI4MTIxMUU4OEFDRUFERjQ2RDVFNTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QzYzNDlBNTI4MTIxMUU4OEFDRUFERjQ2RDVFNTg5RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVDNjM0OUEyMjgxMjExRTg4QUNFQURGNDZENUU1ODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVDNjM0OUEzMjgxMjExRTg4QUNFQURGNDZENUU1ODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+xoq2qAAAArFJREFUeNrsmM9LFkEYx/f9kVEYCiK8tRQoQVGU2SGJ91D0B5QeIg9CQWCXoO4l1D+g2NGDUJd+mNGlSy9EdFKQUF4ItIhXebskYYZWmK/bd+o7ME3vvrvvzuxq0AMf3ZmdeZ7vzs7MPvM6nuc5FjgAprzfNsWysV8bwtpA2fvTyqw38p12zCwHCsBleZL/XdbnjLwbPFkzKCqjdYf1w0pdke0Sfa07wYQi4i5I8V6KZWkTbJ+IuAZQUII/BRmtTYb10grsF6s4EXRcCfqiRtAG3pc2XuUhrIkTr2tUCTYJGgP6NLKdtFHl9VsVN6hN9JaQ/Vq0hTNoW9wZxfk74NY5HVz2kzZgU9wh8BUsgP0RV7jo90EReNVUXB6MgMNgV5QVp3EEfFIE9kUVd5qjJeyhpW+woAus0O86OBtF3DQdVECPRXFyDq/R/zeW6xJ3g3Os17IwSTcfXNgyOBEk7iAogTch9jAbXFTm3yLndlVx+7TUpz0BcYJrfqmWbNCq7UO3ExImuaXtozkprgnMVEl9kuavVEtUPlYq79Xz7bOMnmo9ERUV5JwiIy6D66Ci5KKvwYITn+0GXUo5A4bAXrDhcHX62aWYR6u7RuySGLF+sOxsLRN6+rP485wHknYO6x7wbBME9YJZTqv3YDXLG6ugyOvPmzRaQti0WpE1cJYCFwKOfx/Bg1+TO4KZiDsH7odo9wOMRQlgcqhuDtnOjRoga2m+dGj7YRMomTq1Je5LHAsp7Wxh+y/uXxW3Q7n+HkbcorJpdsYsTmYkG8yKAsWJT9krXl8B+ZiE5enfYbyVsFvJTXbYDl6CR+Ct1uaYcr1WQ8QprSx8HgXnwTaO2kC9v2xe5qE3yMTxMa31FeX5EH3XGSfSzxGdYAws+TifAyd9+or6WZ9+S/R7vFb8nwIMAPoN36+v3Px3AAAAAElFTkSuQmCC) 50% no-repeat;background-size:.39rem .39rem}',{});var n=void 0;return function(e){if(void 0===n){var t=function(e){e=e||{},this.url=e.url||("undefined"!=typeof APP&&"prd"!==APP.environment?"https://b-stg.qianpapa.com.cn":"https://b.qianpapa.com.cn"),this.otype=e.otype||"button",this.otitle=e.otitle||"返回官网",this.className="back-home-icon",this.x=e.x,this.y=e.y,this.showVal=e.showVal,this.show=this.isShow(location.search),this.paramsArr=["channel_source","source","outerSource","activity_FlowId","rec_no","rec_type","activity_Id","media_source"],this.init()};t.prototype={isShow:function(e){return!!this.showVal||!!(t=new RegExp("(^|&|\\?)show=([^&]*)(&|$)").exec(e))&&("true"===t[2]||"1"===t[2]);var t},init:function(){this.getAllParam(),this.create(),this.bindEvent(),(document.body||document.documentElement).appendChild(this.addEl)},bindEvent:function(){var t,n,i=this,e=document.getElementsByTagName("input");if(e.length&&this.show){var o=this.jsOffsetTop(e[0]),s=window.innerWidth-i.ele.offsetLeft;setTimeout(function(){t=i.ele.offsetTop,n=i.ele.offsetHeight},100),window.addEventListener("scroll",function(e){o-(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)-n/2<=t?(i.ele.style.transform="translateX("+s+"px)",i.ele.style.webkitTransform="translateX("+s+"px)",i.ele.style.mozTransform="translateX("+s+"px)",i.ele.style.msTransform="translateX("+s+"px)"):(i.ele.style.transform="",i.ele.style.webkitTransform="",i.ele.style.mozTransform="",i.ele.style.msTransform="")})}},jsOffsetTop:function(e){return e.offsetParent?e.offsetTop+this.jsOffsetTop(e.offsetParent):e.offsetTop},appendJs:function(e){if(e){var t=this,n=document.createElement("script");n.src=e,(document.body||document.documentElement).appendChild(n),n.onload=function(){t.init()}}else this.init()},create:function(){var e=document.createElement("a");this.ele=e,this.className&&(e.className=this.className),this.y&&(e.style.top=this.y),this.x&&(e.style.right=this.x),e.style.display=this.show?"block":"none",e.setAttribute("otype",this.otype),e.setAttribute("otitle",this.otitle),e.href=this.url,this.addEl=e},getAllParam:function(){var e=this.getParams(this.paramsArr);this.url=this.url+(e.length?"?":"")+e.join("&")},getParams:function(e){var t=this,n=location.href,i=[];return e.forEach(function(e){-1!==n.indexOf(e)&&i.push(e+"="+t.getQueryString(n,e))}),i},getQueryString:function(e,t){var n=new RegExp("(^|&|\\?)"+t+"=([^&]*)(&|$)","i"),i=decodeURI(e).substr(1).match(n);return null!=i?unescape(i[2]):null}},n=new t(e)}return n}});
